{% comment %}
	Posting time line.
	
	Author: Sebastian Teumert (<http://www.teumert.net>, <http://www.github.com/NetzwergX>)
	Licensed under the MIT license (see LICENSE file).
	
	This widget displays a time line with month in which posts were written, grouped by year.	
	
	For more Jekyll widgets, see <http://www.github.com/NetzwergX/jekyll-template-toolkit>.
{% endcomment %}	
<section>
	<nav>
		<h1>Archive</h1>
		<ul class="archive">
		{% for post in site.posts %}
			{% unless post.next %}					
				<li><a href="/archives.html#{{ post.date | date: '%Y' }}" name="{{ post.date | date: '%Y' }}">{{ post.date | date: '%Y' }}</a></li>		
				<ul class="archive">
					
					<li class="nested">
						<ul>
							<li><a href="/archives.html#{{ post.date | date: '%Y-%B' }}" name="{{ post.date | date: '%Y-%B' }}">{{ post.date | date: '%B' }}</a></li>
			{% else %}
				{% capture year %}{{ post.date | date: '%Y' }}{% endcapture %}
				{% capture nyear %}{{ post.next.date | date: '%Y' }}{% endcapture %}
				{% capture month %}{{ post.date | date: '%B' }}{% endcapture %}
				{% capture nmonth %}{{ post.next.date | date: '%B' }}{% endcapture %}
				{% if year != nyear %}
				{% capture month %}December{% endcapture %}
				{% capture nmonth %}December{% endcapture %}
						</ul>
					</li>
				</ul>
				<li><a href="/archives.html#{{ post.date | date: '%Y' }}" name="{{ post.date | date: '%Y' }}">{{ post.date | date: '%Y' }}</a></li>				
					<ul class="archive">
						<li class="nested">
							<ul>
								<li><a href="/archives.html#{{ post.date | date: '%Y-%B' }}" name="{{ post.date | date: '%Y-%B' }}">{{ post.date | date: '%B' }}</a></li>
				{% endif %}
				{% if month != nmonth %} 						
					<li><a href="/archives.html#{{ post.date | date: '%Y-%B' }}" name="{{ post.date | date: '%Y-%B' }}">{{ post.date | date: '%B' }}</a></li>					
				{% endif %}				
		   {% endunless %}			
		{% endfor %}
				</ul>
			</li>
		</ul>
	</nav>
</section>
	